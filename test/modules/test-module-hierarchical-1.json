{
    "$schema": "../../src/assets/schemas/data-segmentation-module.schema.json",
    "id": "test-hierarchical-1",
    "name": "Test Hierarchical Module 1",
    "version": "1.0.0",
    "description": "Test module with 3-level category hierarchy",
    "enabled": true,
    "categories": [
        {
            "code": "HEALTH",
            "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "name": "Health Information",
            "description": "Root category for all health-related information"
        },
        {
            "code": "MENTAL",
            "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "name": "Mental Health",
            "description": "Mental health information",
            "parent": "HEALTH"
        },
        {
            "code": "ANXIETY",
            "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "name": "Anxiety Disorders",
            "description": "Anxiety-related conditions",
            "parent": "MENTAL"
        },
        {
            "code": "DEPRESSION",
            "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "name": "Depression",
            "description": "Depressive disorders",
            "parent": "MENTAL"
        },
        {
            "code": "PHYSICAL",
            "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "name": "Physical Health",
            "description": "Physical health information",
            "parent": "HEALTH"
        }
    ],
    "purposes": [
        {
            "code": "HIPAAConsentCD",
            "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "name": "Treatment",
            "description": "For the purposes of providing or supporting care."
        }
    ],
    "policies": [
        {
            "id": "42cfr-part2-2.11",
            "name": "General prohibitions on disclosure",
            "control_authority": "CFR",
            "control_id": "42 CFR Part 2 §2.11"
        },
        {
            "id": "42cfr-part2-2.12",
            "name": "Prohibition on redisclosure",
            "control_authority": "CFR",
            "control_id": "42 CFR Part 2 §2.12"
        },
        {
            "id": "42cfr-part2-2.13",
            "name": "Confidentiality restrictions and safeguards",
            "control_authority": "CFR",
            "control_id": "42 CFR Part 2 §2.13"
        },
        {
            "id": "42cfr-part2-2.22",
            "name": "Disclosures permitted with written consent",
            "control_authority": "CFR",
            "control_id": "42 CFR Part 2 §2.22"
        },
        {
            "id": "42cfr-part2-2.31",
            "name": "Form and content of written consent",
            "control_authority": "CFR",
            "control_id": "42 CFR Part 2 §2.31"
        }
    ],
    "rules": {
        "bindings": [
            {
                "id": "test-binding-anxiety",
                "category": "ANXIETY",
                "purpose": "HIPAAConsentCD",
                "basis": {
                    "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                    "code": "42CFRPart2",
                    "display": "42 CFR Part2"
                },
                "labels": [
                    {
                        "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                        "code": "ANXIETY",
                        "display": "Anxiety Disorders"
                    }
                ],
                "codeSets": [
                    {
                        "groupID": "anxiety-test",
                        "codes": [
                            {
                                "system": "http://snomed.info/sct",
                                "code": "48694002",
                                "confidence": 1.0
                            }
                        ]
                    }
                ],
                "policies": ["42cfr-part2-2.11", "42cfr-part2-2.12", "42cfr-part2-2.13"]
            },
            {
                "id": "test-binding-depression",
                "category": "DEPRESSION",
                "purpose": "HIPAAConsentCD",
                "basis": {
                    "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                    "code": "42CFRPart2",
                    "display": "42 CFR Part2"
                },
                "labels": [
                    {
                        "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                        "code": "DEPRESSION",
                        "display": "Depression"
                    }
                ],
                "codeSets": [
                    {
                        "groupID": "depression-test",
                        "codes": [
                            {
                                "system": "http://snomed.info/sct",
                                "code": "35489007",
                                "confidence": 1.0
                            }
                        ]
                    }
                ],
                "policies": ["42cfr-part2-2.11", "42cfr-part2-2.22", "42cfr-part2-2.31"]
            },
            {
                "id": "test-binding-mental",
                "category": "MENTAL",
                "purpose": "HIPAAConsentCD",
                "basis": {
                    "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                    "code": "42CFRPart2",
                    "display": "42 CFR Part2"
                },
                "labels": [
                    {
                        "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
                        "code": "MENTAL",
                        "display": "Mental Health"
                    }
                ],
                "codeSets": [
                    {
                        "groupID": "mental-test",
                        "codes": [
                            {
                                "system": "http://snomed.info/sct",
                                "code": "13746004",
                                "confidence": 1.0
                            },
                            {
                                "system": "http://snomed.info/sct",
                                "code": "64905009",
                                "confidence": 1.0
                            }
                        ]
                    }
                ],
                "policies": ["42cfr-part2-2.11", "42cfr-part2-2.13"]
            }
        ]
    }
}

